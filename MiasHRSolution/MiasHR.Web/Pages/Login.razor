@page "/login"

<PageTitle>Login</PageTitle>
<MudContainer MaxWidth="MudBlazor.MaxWidth.Small" Style="align-items:">
    <MudPaper Class="pa-4 ma-4">
        <MudTextField @bind-Value="UserID" Label="User ID" Variant="Variant.Outlined" />
    </MudPaper>
</MudContainer>
<MudContainer MaxWidth="MudBlazor.MaxWidth.Small">
    <MudPaper Class="pa-4 ma-4">
        <MudTextField @bind-Value="Password" Label="Password" Variant="Variant.Text" InputType="@PasswordInput" Adornment="Adornment.End" AdornmentIcon="@PasswordInputIcon" OnAdornmentClick="ButtonTestclick" AdornmentAriaLabel="Show Password" />
        <MudButton Disabled="@_loggingin" OnClick="Loggingin" Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.Login" Color="Color.Primary">
            @if (_loggingin)
            {
                <MudProgressCircular Class="ms-1" Size="Size.Small" Indeterminate="true" />
                <MudText Class="ms-2">Logging In</MudText>
            }
            else
            {
                <MudText>Submit</MudText>
            }
        </MudButton>
    </MudPaper>
</MudContainer>


@code {
    public string UserID { get; set; } = "admin";
    public string Password { get; set; } = "mias1060";
    private bool _loggingin = false;

    bool isShow;
    InputType PasswordInput = InputType.Password;
    string PasswordInputIcon = Icons.Material.Filled.VisibilityOff;

    async Task Loggingin()
    {
        _loggingin = true;
        await Task.Delay(2000);
        _loggingin = false;
    }

    void ButtonTestclick()
    {
        @if (isShow)
        {
            isShow = false;
            PasswordInputIcon = Icons.Material.Filled.VisibilityOff;
            PasswordInput = InputType.Password;
        }
        else
        {
            isShow = true;
            PasswordInputIcon = Icons.Material.Filled.Visibility;
            PasswordInput = InputType.Text;
        }
    }
}