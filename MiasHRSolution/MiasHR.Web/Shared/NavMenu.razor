@inject IAuthService AuthService
@inject IEmployeeInfoRequestService EmployeeInfoRequestService

<MudNavMenu>
    @*TODO: Click 'Manage Team' to open Manager dashboard, Hover Manage Team to open dropdown menu
    Each categories have their dropdown menu with their own pages
    *@

    @if (isManager)
    {
        <MudNavGroup Title="Manage Team" Icon="@Icons.Material.Filled.Groups" Expanded="false">
            @* <MudNavLink Href="/manager/home" Match="NavLinkMatch.Prefix">Dashboard</MudNavLink> *@
            <MudNavLink Href="/manager/daytimeoff/requests" Match="NavLinkMatch.Prefix">Day Time Off Requests</MudNavLink>
            <MudNavLink Href="/manager/daytimeoff/history" Match="NavLinkMatch.Prefix">Day Time Off History</MudNavLink>
            <MudNavLink Href="/manager/timeattendance" Match="NavLinkMatch.Prefix">Time & Attendance</MudNavLink>
            <MudNavLink Href="/manager/employeeinfo" Match="NavLinkMatch.Prefix">Employee PTO Information</MudNavLink>
        @* <MudNavLink Href="/manager/evaluation" Match="NavLinkMatch.Prefix">Evaluation</MudNavLink> *@
        </MudNavGroup>
    }
    <MudNavGroup Title="Day Time Off" Icon="@Icons.Material.Filled.Event" Expanded="false">
        <MudNavLink Href="/" Match="NavLinkMatch.All">Information</MudNavLink>
        <MudNavLink Href="/daytimeoff/list" Match="NavLinkMatch.Prefix">Request List</MudNavLink>
    </MudNavGroup>
   <MudNavLink Href="/timeattendance" Icon="@Icons.Material.Filled.AccessTime" Match="NavLinkMatch.Prefix">Time & Attendance</MudNavLink>
   @*   <MudNavGroup Title="Insurance" Icon="@Icons.Material.Filled.MedicalInformation" Expanded="false">
        <MudNavLink Href="/insurance/current" Match="NavLinkMatch.Prefix">Current Plan</MudNavLink>
        <MudNavLink Href="/insurance/surfing" Match="NavLinkMatch.Prefix">Plan Surfing</MudNavLink>
    </MudNavGroup>
    <MudNavGroup Title="Organization" Icon="@Icons.Material.Filled.AccountTree" Expanded="false">
        <MudNavLink Href="/organization/chart" Match="NavLinkMatch.Prefix">Organization Chart</MudNavLink>
        <MudNavLink Href="/organization/list" Match="NavLinkMatch.Prefix">Employee List</MudNavLink>
    </MudNavGroup>
    <MudNavLink Href="/evaluation" Icon="@Icons.Material.Filled.Task" Match="NavLinkMatch.Prefix">Evaluation</MudNavLink> *@
    <MudNavLink Href="/policies" Icon="@Icons.Material.Filled.TextSnippet" Match="NavLinkMatch.Prefix">Policies</MudNavLink>
</MudNavMenu>

@code{
    private bool isManager = false;

    protected override async Task OnInitializedAsync()
    {
        if (await AuthService.IsLoggedIn())
        {
            isManager = await AuthService.IsUserManager();
        }
    }
}